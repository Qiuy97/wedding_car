{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            orderId: '',\n            orderDetail: new UTSJSONObject({}),\n            ownerInfo: new UTSJSONObject({}),\n            timelineSteps: []\n        };\n    },\n    onLoad(options) {\n        this.orderId = options.id;\n        this.loadOrderDetail();\n    },\n    methods: {\n        loadOrderDetail() {\n            // 模拟数据\n            this.orderDetail = new UTSJSONObject({\n                _id: this.orderId,\n                car: new UTSJSONObject({\n                    brand: '劳斯莱斯',\n                    model: '幻影',\n                    images: ['/static/cars/rolls1.jpg']\n                }),\n                service_date: '2025-02-14',\n                service_time: '09:00',\n                pickup_location: '北京市朝阳区三里屯',\n                dropoff_location: '北京市朝阳区国贸',\n                total_amount: 4000,\n                status: 2,\n                create_time: '2025-01-15T10:30:00.000Z'\n            });\n            this.ownerInfo = new UTSJSONObject({\n                nickname: '王师傅',\n                avatar: '/static/avatar/owner1.jpg',\n                phone: '138****8000'\n            });\n            this.updateTimeline();\n        },\n        updateTimeline() {\n            const status = this.orderDetail.status;\n            this.timelineSteps = [\n                {\n                    title: '订单已创建',\n                    time: '2025-01-15 10:30',\n                    completed: status >= 1,\n                    current: status === 1\n                },\n                {\n                    title: '车主已确认',\n                    time: status >= 2 ? '2025-01-15 11:00' : '',\n                    completed: status >= 2,\n                    current: status === 2\n                },\n                {\n                    title: '服务进行中',\n                    time: status >= 3 ? '2025-02-14 09:00' : '',\n                    completed: status >= 3,\n                    current: status === 3\n                },\n                {\n                    title: '服务已完成',\n                    time: status >= 4 ? '2025-02-14 13:00' : '',\n                    completed: status >= 4,\n                    current: status === 4\n                }\n            ];\n        },\n        getStatusClass(status = null) {\n            const classMap = new UTSJSONObject({\n                1: 'pending',\n                2: 'confirmed',\n                3: 'ongoing',\n                4: 'completed',\n                5: 'cancelled'\n            });\n            return classMap[status] || 'pending';\n        },\n        getStatusIcon(status = null) {\n            const iconMap = new UTSJSONObject({\n                1: 'fa-clock-o',\n                2: 'fa-check-circle',\n                3: 'fa-car',\n                4: 'fa-check',\n                5: 'fa-times-circle'\n            });\n            return iconMap[status] || 'fa-clock-o';\n        },\n        getStatusMessage(status = null) {\n            const messageMap = new UTSJSONObject({\n                1: '等待车主确认',\n                2: '车主已确认，请按时到达指定地点',\n                3: '服务进行中，请保持电话畅通',\n                4: '服务已完成',\n                5: '订单已取消'\n            });\n            return messageMap[status] || '订单状态异常';\n        },\n        contactOwner() {\n            uni.makePhoneCall({\n                phoneNumber: '13800138000'\n            });\n        },\n        cancelOrder() {\n            uni.showModal(new UTSJSONObject({\n                title: '确认取消',\n                content: '确定要取消这个订单吗？取消后费用将原路退回。',\n                success: (res) => {\n                    if (res.confirm) {\n                        uni.showToast({\n                            title: '订单已取消',\n                            icon: 'success'\n                        });\n                        // 更新订单状态\n                        this.orderDetail.status = 5;\n                        this.updateTimeline();\n                    }\n                }\n            }));\n        }\n    }\n});\n//# sourceMappingURL=/Users/admin/Documents/HBuilderProjects/wedding_car/pages/order-detail/order-detail.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.makePhoneCall","uni.showModal","uni.showToast"],"map":"{\"version\":3,\"file\":\"order-detail.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"order-detail.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
