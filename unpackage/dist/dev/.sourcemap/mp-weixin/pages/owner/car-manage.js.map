{"version":3,"file":"car-manage.js","sources":["pages/owner/car-manage.uvue","pages/owner/car-manage.uvue?type=page"],"sourcesContent":["<template>\n  <view class=\"car-manage-page\">\n    <!-- 顶部操作栏 -->\n    <view class=\"top-actions\">\n      <view class=\"add-car-btn\" @click=\"goToAddCar\">\n        <text class=\"fa fa-plus\"></text>\n        <text class=\"btn-text\">添加车辆</text>\n      </view>\n    </view>\n\n    <!-- 车辆列表 -->\n    <scroll-view class=\"car-list\" scroll-y>\n      <view class=\"car-item\" \n            v-for=\"car in carList\" \n            :key=\"car._id\"\n            @click=\"editCar(car)\">\n        <image class=\"car-image\" :src=\"car.images[0]\" mode=\"aspectFill\"></image>\n        <view class=\"car-info\">\n          <text class=\"car-name\">{{ car.brand }} {{ car.model }}</text>\n          <text class=\"car-year\">{{ car.year }}款 · {{ car.color }}</text>\n          <view class=\"car-stats\">\n            <view class=\"stat-item\">\n              <text class=\"stat-label\">价格</text>\n              <text class=\"stat-value\">¥{{ car.price_per_hour }}/小时</text>\n            </view>\n            <view class=\"stat-item\">\n              <text class=\"stat-label\">订单</text>\n              <text class=\"stat-value\">{{ car.order_count }}单</text>\n            </view>\n          </view>\n          <view class=\"car-status\">\n            <text class=\"status-text\" :class=\"car.status === 1 ? 'online' : 'offline'\">\n              {{ car.status === 1 ? '上线中' : '已下线' }}\n            </text>\n          </view>\n        </view>\n        <view class=\"car-actions\">\n          <view class=\"action-btn\" @click.stop=\"toggleCarStatus(car)\">\n            <text class=\"fa\" :class=\"car.status === 1 ? 'fa-pause' : 'fa-play'\"></text>\n          </view>\n          <view class=\"action-btn\" @click.stop=\"editCar(car)\">\n            <text class=\"fa fa-edit\"></text>\n          </view>\n          <view class=\"action-btn delete\" @click.stop=\"deleteCar(car)\">\n            <text class=\"fa fa-trash\"></text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 空状态 -->\n      <view class=\"empty-state\" v-if=\"carList.length === 0\">\n        <text class=\"fa fa-car empty-icon\"></text>\n        <text class=\"empty-text\">还没有车辆</text>\n        <view class=\"empty-btn\" @click=\"goToAddCar\">\n          <text class=\"btn-text\">添加第一辆车</text>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      carList: []\n    }\n  },\n  onLoad() {\n    this.loadCarList();\n  },\n  onShow() {\n    this.loadCarList();\n  },\n  methods: {\n    loadCarList() {\n      // 模拟车辆数据\n      this.carList = [\n        {\n          _id: 'car001',\n          brand: '劳斯莱斯',\n          model: '幻影',\n          year: '2023',\n          color: '珍珠白',\n          images: ['/static/cars/rolls1.jpg'],\n          price_per_hour: 2000,\n          order_count: 156,\n          status: 1\n        },\n        {\n          _id: 'car002',\n          brand: '奔驰',\n          model: 'S级',\n          year: '2024',\n          color: '香槟金',\n          images: ['/static/cars/benz1.jpg'],\n          price_per_hour: 800,\n          order_count: 89,\n          status: 1\n        }\n      ];\n    },\n    goToAddCar() {\n      uni.navigateTo({\n        url: '/pages/owner/car-add'\n      });\n    },\n    editCar(car) {\n      uni.navigateTo({\n        url: `/pages/owner/car-edit?id=${car._id}`\n      });\n    },\n    toggleCarStatus(car) {\n      car.status = car.status === 1 ? 0 : 1;\n      uni.showToast({\n        title: car.status === 1 ? '车辆已上线' : '车辆已下线',\n        icon: 'success'\n      });\n    },\n    deleteCar(car) {\n      uni.showModal({\n        title: '删除车辆',\n        content: '确定要删除这辆车吗？删除后无法恢复。',\n        success: (res) => {\n          if (res.confirm) {\n            const index = this.carList.findIndex(item => item._id === car._id);\n            if (index > -1) {\n              this.carList.splice(index, 1);\n            }\n            uni.showToast({\n              title: '删除成功',\n              icon: 'success'\n            });\n          }\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.car-manage-page {\n  background-color: $uni-bg-color-grey;\n  min-height: 100vh;\n}\n\n.top-actions {\n  background: white;\n  padding: 16px;\n  border-bottom: 1px solid $uni-border-color-light;\n  \n  .add-car-btn {\n    background: $uni-color-primary;\n    color: white;\n    padding: 12px 20px;\n    border-radius: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    .fa {\n      margin-right: 6px;\n      font-size: 14px;\n    }\n    \n    .btn-text {\n      font-size: 14px;\n      font-weight: 500;\n    }\n  }\n}\n\n.car-list {\n  flex: 1;\n  padding: 16px;\n  \n  .car-item {\n    background: white;\n    border-radius: 12px;\n    padding: 16px;\n    margin-bottom: 12px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n    display: flex;\n    gap: 12px;\n    \n    .car-image {\n      width: 100px;\n      height: 100px;\n      border-radius: 8px;\n      flex-shrink: 0;\n    }\n    \n    .car-info {\n      flex: 1;\n      \n      .car-name {\n        font-size: 16px;\n        font-weight: bold;\n        color: $uni-text-color;\n        display: block;\n        margin-bottom: 4px;\n      }\n      \n      .car-year {\n        font-size: 12px;\n        color: $uni-text-color-grey;\n        display: block;\n        margin-bottom: 8px;\n      }\n      \n      .car-stats {\n        display: flex;\n        gap: 16px;\n        margin-bottom: 8px;\n        \n        .stat-item {\n          .stat-label {\n            font-size: 10px;\n            color: $uni-text-color-grey;\n            display: block;\n            margin-bottom: 2px;\n          }\n          \n          .stat-value {\n            font-size: 12px;\n            color: $uni-text-color;\n            font-weight: 500;\n          }\n        }\n      }\n      \n      .car-status {\n        .status-text {\n          font-size: 12px;\n          padding: 2px 8px;\n          border-radius: 10px;\n          \n          &.online {\n            background: rgba($uni-color-success, 0.1);\n            color: $uni-color-success;\n          }\n          \n          &.offline {\n            background: rgba($uni-color-error, 0.1);\n            color: $uni-color-error;\n          }\n        }\n      }\n    }\n    \n    .car-actions {\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      \n      .action-btn {\n        width: 36px;\n        height: 36px;\n        border-radius: 18px;\n        background: $uni-bg-color-light;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: $uni-text-color;\n        \n        &.delete {\n          background: rgba($uni-color-error, 0.1);\n          color: $uni-color-error;\n        }\n        \n        .fa {\n          font-size: 14px;\n        }\n      }\n    }\n  }\n}\n\n.empty-state {\n  text-align: center;\n  padding: 80px 20px;\n  \n  .empty-icon {\n    font-size: 64px;\n    color: $uni-text-color-grey;\n    display: block;\n    margin-bottom: 16px;\n  }\n  \n  .empty-text {\n    font-size: 16px;\n    color: $uni-text-color-grey;\n    display: block;\n    margin-bottom: 24px;\n  }\n  \n  .empty-btn {\n    background: $uni-color-primary;\n    color: white;\n    padding: 12px 24px;\n    border-radius: 24px;\n    display: inline-block;\n    \n    .btn-text {\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/admin/Documents/HBuilderProjects/wedding_car/pages/owner/car-manage.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AA8DA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,SAAS,CAAC;AAAA;EAEb;AAAA,EACD,SAAM;AACJ,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,SAAM;AACJ,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACP,cAAW;AAET,WAAK,UAAU;AAAA,QACb;AAAA,UACE,KAAK;AAAA,UACL,OAAO;AAAA,UACP,OAAO;AAAA,UACP,MAAM;AAAA,UACN,OAAO;AAAA,UACP,QAAQ,CAAC,yBAAyB;AAAA,UAClC,gBAAgB;AAAA,UAChB,aAAa;AAAA,UACb,QAAQ;AAAA,QACT;AAAA,QACD;AAAA,UACE,KAAK;AAAA,UACL,OAAO;AAAA,UACP,OAAO;AAAA,UACP,MAAM;AAAA,UACN,OAAO;AAAA,UACP,QAAQ,CAAC,wBAAwB;AAAA,UACjC,gBAAgB;AAAA,UAChB,aAAa;AAAA,UACb,QAAQ;AAAA,QACV;AAAA;IAEH;AAAA,IACD,aAAU;AACRC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACF;AAAA,IACD,QAAQ,MAAG,MAAA;AACTA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,4BAA4B,IAAI,GAAG;AAAA,MACzC,CAAA;AAAA,IACF;AAAA,IACD,gBAAgB,MAAG,MAAA;AACjB,UAAI,SAAS,IAAI,WAAW,IAAI,IAAI;AACpCA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO,IAAI,WAAW,IAAI,UAAU;AAAA,QACpC,MAAM;AAAA,MACP,CAAA;AAAA,IACF;AAAA,IACD,UAAU,MAAG,MAAA;AACXA,0BAAI,UAAU,IAAA,cAAA;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAG;AACX,cAAI,IAAI,SAAS;AACf,kBAAM,QAAQ,KAAK,QAAQ,UAAU,UAAG;AAAK,qBAAA,KAAK,QAAQ,IAAI;AAAA,YAAG,CAAA;AACjE,gBAAI,QAAQ,IAAI;AACd,mBAAK,QAAQ,OAAO,OAAO,CAAC;AAAA,YAC9B;AACAA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACF;AAAA,MACD,CAAA,CAAA;AAAA,IACH;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIA,GAAG,WAAW,eAAe;"}