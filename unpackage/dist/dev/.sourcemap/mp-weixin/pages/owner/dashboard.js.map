{"version":3,"file":"dashboard.js","sources":["pages/owner/dashboard.uvue","pages/owner/dashboard.uvue?type=page"],"sourcesContent":["<template>\n  <view class=\"owner-dashboard\">\n    <!-- 头部信息 -->\n    <view class=\"header-section\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\n      <view class=\"header-content\">\n        <view class=\"owner-info\">\n          <image class=\"owner-avatar\" :src=\"ownerInfo.avatar\" mode=\"aspectFill\"></image>\n          <view class=\"owner-details\">\n            <text class=\"owner-name\">{{ ownerInfo.nickname }}</text>\n            <view class=\"owner-badge\">\n              <text class=\"badge-text\">认证车主</text>\n            </view>\n          </view>\n        </view>\n        <view class=\"settings-btn\" @click=\"goToSettings\">\n          <text class=\"fa fa-cog\"></text>\n        </view>\n      </view>\n      \n      <!-- 收入统计 -->\n      <view class=\"income-stats\">\n        <view class=\"stat-item\">\n          <text class=\"stat-number\">¥{{ ownerStats.todayIncome }}</text>\n          <text class=\"stat-label\">今日收入</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-number\">¥{{ ownerStats.monthIncome }}</text>\n          <text class=\"stat-label\">本月收入</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-number\">{{ ownerStats.totalOrders }}</text>\n          <text class=\"stat-label\">总订单</text>\n        </view>\n      </view>\n    </view>\n\n    <scroll-view class=\"content-scroll\" scroll-y>\n      <!-- 收入图表 -->\n      <view class=\"chart-section\">\n        <view class=\"section-header\">\n          <text class=\"section-title\">收入趋势</text>\n          <picker :value=\"chartPeriod\" :range=\"['本周', '本月', '本年']\" @change=\"onChartPeriodChange\">\n            <view class=\"period-picker\">\n              <text class=\"picker-text\">{{ ['本周', '本月', '本年'][chartPeriod] }}</text>\n              <text class=\"fa fa-chevron-down\"></text>\n            </view>\n          </picker>\n        </view>\n        <view class=\"chart-container\">\n          <view class=\"chart-placeholder\">\n            <text class=\"chart-text\">收入图表区域</text>\n            <text class=\"chart-desc\">这里将显示收入趋势图</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 快捷功能 -->\n      <view class=\"quick-functions\">\n        <view class=\"function-grid\">\n          <view class=\"function-item\" @click=\"goToCarManage\">\n            <view class=\"function-icon\">\n              <text class=\"fa fa-car\"></text>\n            </view>\n            <text class=\"function-text\">车辆管理</text>\n          </view>\n          <view class=\"function-item\" @click=\"goToOrderManage\">\n            <view class=\"function-icon\">\n              <text class=\"fa fa-list-alt\"></text>\n              <view class=\"notification-badge\" v-if=\"pendingOrders > 0\">{{ pendingOrders }}</view>\n            </view>\n            <text class=\"function-text\">订单管理</text>\n          </view>\n          <view class=\"function-item\" @click=\"goToIncome\">\n            <view class=\"function-icon\">\n              <text class=\"fa fa-line-chart\"></text>\n            </view>\n            <text class=\"function-text\">收入统计</text>\n          </view>\n          <view class=\"function-item\" @click=\"goToWithdraw\">\n            <view class=\"function-icon\">\n              <text class=\"fa fa-credit-card\"></text>\n            </view>\n            <text class=\"function-text\">提现</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 最近订单 -->\n      <view class=\"recent-orders\">\n        <view class=\"section-header\">\n          <text class=\"section-title\">最近订单</text>\n          <text class=\"more-link\" @click=\"goToOrderManage\">查看全部</text>\n        </view>\n        <view class=\"order-list\">\n          <view class=\"order-item\" \n                v-for=\"order in recentOrders\" \n                :key=\"order._id\"\n                @click=\"goToOrderDetail(order)\">\n            <view class=\"order-info\">\n              <text class=\"order-title\">{{ order.car.brand }} {{ order.car.model }}</text>\n              <text class=\"order-time\">{{ order.service_date }} {{ order.service_time }}</text>\n              <text class=\"order-location\">{{ order.pickup_location }}</text>\n            </view>\n            <view class=\"order-right\">\n              <text class=\"order-amount\">¥{{ order.owner_amount || order.total_amount }}</text>\n              <text class=\"order-status\" :class=\"getOrderStatusClass(order.status)\">\n                {{ getOrderStatusText(order.status) }}\n              </text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 车主工具 -->\n      <view class=\"owner-tools\">\n        <view class=\"section-title\">\n          <text class=\"title-text\">车主工具</text>\n        </view>\n        <view class=\"tool-list\">\n          <view class=\"tool-item\" @click=\"goToProfile\">\n            <text class=\"fa fa-user tool-icon\"></text>\n            <text class=\"tool-text\">个人资料</text>\n            <text class=\"fa fa-chevron-right tool-arrow\"></text>\n          </view>\n          <view class=\"tool-item\" @click=\"goToReviews\">\n            <text class=\"fa fa-star tool-icon\"></text>\n            <text class=\"tool-text\">用户评价</text>\n            <text class=\"fa fa-chevron-right tool-arrow\"></text>\n          </view>\n          <view class=\"tool-item\" @click=\"goToHelp\">\n            <text class=\"fa fa-question-circle tool-icon\"></text>\n            <text class=\"tool-text\">帮助中心</text>\n            <text class=\"fa fa-chevron-right tool-arrow\"></text>\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      statusBarHeight: 0,\n      chartPeriod: 0,\n      pendingOrders: 3,\n      ownerInfo: {\n        nickname: '王师傅',\n        avatar: '/static/avatar/owner1.jpg'\n      },\n      ownerStats: {\n        todayIncome: 1200,\n        monthIncome: 15600,\n        totalOrders: 156\n      },\n      recentOrders: []\n    }\n  },\n  onLoad() {\n    this.getStatusBarHeight();\n    this.loadRecentOrders();\n  },\n  methods: {\n    getStatusBarHeight() {\n      const systemInfo = uni.getSystemInfoSync();\n      this.statusBarHeight = systemInfo.statusBarHeight || 0;\n    },\n    loadRecentOrders() {\n      // 模拟最近订单数据\n      this.recentOrders = [\n        {\n          _id: 'order001',\n          car: { brand: '劳斯莱斯', model: '幻影' },\n          service_date: '2025-02-14',\n          service_time: '09:00',\n          pickup_location: '朝阳区三里屯',\n          total_amount: 4000,\n          owner_amount: 3800,\n          status: 1\n        },\n        {\n          _id: 'order002',\n          car: { brand: '奔驰', model: 'S级' },\n          service_date: '2025-01-20',\n          service_time: '14:00',\n          pickup_location: '海淀区中关村',\n          total_amount: 2400,\n          owner_amount: 2280,\n          status: 2\n        }\n      ];\n    },\n    onChartPeriodChange(e) {\n      this.chartPeriod = e.detail.value;\n    },\n    getOrderStatusClass(status) {\n      const classMap = {\n        1: 'pending',\n        2: 'confirmed',\n        3: 'ongoing',\n        4: 'completed'\n      };\n      return classMap[status] || '';\n    },\n    getOrderStatusText(status) {\n      const textMap = {\n        1: '待确认',\n        2: '已确认',\n        3: '进行中',\n        4: '已完成'\n      };\n      return textMap[status] || '';\n    },\n    goToSettings() {\n      uni.navigateTo({\n        url: '/pages/owner/settings'\n      });\n    },\n    goToCarManage() {\n      uni.navigateTo({\n        url: '/pages/owner/car-manage'\n      });\n    },\n    goToOrderManage() {\n      uni.navigateTo({\n        url: '/pages/owner/order-manage'\n      });\n    },\n    goToIncome() {\n      uni.navigateTo({\n        url: '/pages/owner/income'\n      });\n    },\n    goToWithdraw() {\n      uni.navigateTo({\n        url: '/pages/owner/withdraw'\n      });\n    },\n    goToOrderDetail(order) {\n      uni.navigateTo({\n        url: `/pages/order-detail/order-detail?id=${order._id}`\n      });\n    },\n    goToProfile() {\n      uni.navigateTo({\n        url: '/pages/owner/profile'\n      });\n    },\n    goToReviews() {\n      uni.navigateTo({\n        url: '/pages/owner/reviews'\n      });\n    },\n    goToHelp() {\n      uni.navigateTo({\n        url: '/pages/help/help'\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.owner-dashboard {\n  background-color: $uni-bg-color-grey;\n  min-height: 100vh;\n}\n\n.header-section {\n  background: linear-gradient(135deg, $uni-color-primary 0%, rgba($uni-color-primary, 0.8) 100%);\n  padding: 20px 16px;\n  \n  .header-content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 24px;\n    \n    .owner-info {\n      display: flex;\n      align-items: center;\n      \n      .owner-avatar {\n        width: 64px;\n        height: 64px;\n        border-radius: 50%;\n        border: 2px solid white;\n        margin-right: 16px;\n      }\n      \n      .owner-details {\n        .owner-name {\n          font-size: 18px;\n          font-weight: bold;\n          color: white;\n          display: block;\n          margin-bottom: 4px;\n        }\n        \n        .owner-badge {\n          .badge-text {\n            background: rgba(255, 255, 255, 0.2);\n            color: white;\n            font-size: 12px;\n            padding: 2px 8px;\n            border-radius: 10px;\n          }\n        }\n      }\n    }\n    \n    .settings-btn {\n      width: 40px;\n      height: 40px;\n      background: rgba(255, 255, 255, 0.2);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: white;\n      font-size: 18px;\n    }\n  }\n  \n  .income-stats {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 8px;\n    \n    .stat-item {\n      text-align: center;\n      \n      .stat-number {\n        font-size: 20px;\n        font-weight: bold;\n        color: white;\n        display: block;\n        margin-bottom: 4px;\n      }\n      \n      .stat-label {\n        font-size: 12px;\n        color: rgba(255, 255, 255, 0.8);\n      }\n    }\n  }\n}\n\n.content-scroll {\n  padding-top: 12px;\n}\n\n.chart-section, .quick-functions, .recent-orders, .owner-tools {\n  background: white;\n  margin-bottom: 12px;\n  padding: 20px;\n  \n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n    \n    .section-title {\n      font-size: 16px;\n      font-weight: bold;\n      color: $uni-text-color;\n    }\n    \n    .more-link {\n      font-size: 14px;\n      color: $uni-color-primary;\n    }\n    \n    .period-picker {\n      display: flex;\n      align-items: center;\n      font-size: 14px;\n      color: $uni-text-color;\n      \n      .fa-chevron-down {\n        margin-left: 4px;\n        font-size: 12px;\n      }\n    }\n  }\n  \n  .section-title {\n    font-size: 16px;\n    font-weight: bold;\n    color: $uni-text-color;\n    margin-bottom: 16px;\n    \n    .title-text {\n      font-size: 16px;\n      font-weight: bold;\n      color: $uni-text-color;\n    }\n  }\n}\n\n.chart-container {\n  .chart-placeholder {\n    height: 200px;\n    background: $uni-bg-color-light;\n    border-radius: 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    \n    .chart-text {\n      font-size: 16px;\n      color: $uni-text-color-grey;\n      margin-bottom: 8px;\n    }\n    \n    .chart-desc {\n      font-size: 12px;\n      color: $uni-text-color-grey;\n    }\n  }\n}\n\n.function-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 12px;\n  \n  .function-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 16px 8px;\n    border-radius: 8px;\n    \n    &:active {\n      background-color: $uni-bg-color-light;\n    }\n    \n    .function-icon {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background: rgba($uni-color-primary, 0.1);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-bottom: 8px;\n      position: relative;\n      \n      .fa {\n        color: $uni-color-primary;\n        font-size: 20px;\n      }\n      \n      .notification-badge {\n        position: absolute;\n        top: -4px;\n        right: -4px;\n        background: $uni-color-error;\n        color: white;\n        font-size: 10px;\n        padding: 2px 6px;\n        border-radius: 10px;\n        min-width: 16px;\n        height: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n    \n    .function-text {\n      font-size: 12px;\n      color: $uni-text-color;\n      text-align: center;\n    }\n  }\n}\n\n.order-list {\n  .order-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px 0;\n    border-bottom: 1px solid $uni-border-color-light;\n    \n    &:last-child {\n      border-bottom: none;\n    }\n    \n    .order-info {\n      flex: 1;\n      \n      .order-title {\n        font-size: 14px;\n        font-weight: 500;\n        color: $uni-text-color;\n        display: block;\n        margin-bottom: 4px;\n      }\n      \n      .order-time {\n        font-size: 12px;\n        color: $uni-text-color-grey;\n        display: block;\n        margin-bottom: 4px;\n      }\n      \n      .order-location {\n        font-size: 12px;\n        color: $uni-text-color-grey;\n      }\n    }\n    \n    .order-right {\n      text-align: right;\n      \n      .order-amount {\n        font-size: 16px;\n        font-weight: bold;\n        color: $uni-color-primary;\n        display: block;\n        margin-bottom: 4px;\n      }\n      \n      .order-status {\n        font-size: 12px;\n        padding: 2px 8px;\n        border-radius: 10px;\n        \n        &.pending {\n          background: rgba($uni-color-secondary, 0.1);\n          color: $uni-color-secondary;\n        }\n        \n        &.confirmed {\n          background: rgba($uni-color-primary, 0.1);\n          color: $uni-color-primary;\n        }\n        \n        &.ongoing {\n          background: rgba($uni-color-warning, 0.1);\n          color: $uni-color-warning;\n        }\n        \n        &.completed {\n          background: rgba($uni-color-success, 0.1);\n          color: $uni-color-success;\n        }\n      }\n    }\n  }\n}\n\n.tool-list {\n  .tool-item {\n    display: flex;\n    align-items: center;\n    padding: 16px 0;\n    border-bottom: 1px solid $uni-border-color-light;\n    \n    &:last-child {\n      border-bottom: none;\n    }\n    \n    &:active {\n      background-color: $uni-bg-color-hover;\n    }\n    \n    .tool-icon {\n      color: $uni-color-primary;\n      font-size: 18px;\n      width: 24px;\n      margin-right: 16px;\n    }\n    \n    .tool-text {\n      flex: 1;\n      font-size: 14px;\n      color: $uni-text-color;\n    }\n    \n    .tool-arrow {\n      color: $uni-text-color-grey;\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/admin/Documents/HBuilderProjects/wedding_car/pages/owner/dashboard.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}