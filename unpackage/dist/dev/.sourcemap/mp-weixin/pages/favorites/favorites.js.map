{"version":3,"file":"favorites.js","sources":["pages/favorites/favorites.uvue","pages/favorites/favorites.uvue?type=page"],"sourcesContent":["<template>\n  <view class=\"favorites-page\">\n    <scroll-view class=\"content-scroll\" scroll-y>\n      <view class=\"car-list\" v-if=\"favoriteList.length > 0\">\n        <view class=\"car-item\" \n              v-for=\"car in favoriteList\" \n              :key=\"car._id\"\n              @click=\"goToCarDetail(car)\">\n          <image class=\"car-image\" :src=\"car.images[0]\" mode=\"aspectFill\"></image>\n          <view class=\"car-info\">\n            <text class=\"car-name\">{{ car.brand }} {{ car.model }}</text>\n            <view class=\"car-rating\">\n              <text class=\"fa fa-star rating-star\"></text>\n              <text class=\"rating-text\">{{ car.rating }}</text>\n              <text class=\"order-count\">({{ car.order_count }}单)</text>\n            </view>\n            <view class=\"car-price\">\n              <text class=\"price-text\">¥{{ car.price_per_hour }}</text>\n              <text class=\"price-unit\">/小时</text>\n            </view>\n            <text class=\"car-location\">{{ car.service_area }}</text>\n          </view>\n          <view class=\"favorite-btn\" @click.stop=\"removeFavorite(car)\">\n            <text class=\"fa fa-heart\"></text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 空状态 -->\n      <view class=\"empty-state\" v-else>\n        <text class=\"fa fa-heart-o empty-icon\"></text>\n        <text class=\"empty-text\">暂无收藏车辆</text>\n        <view class=\"empty-btn\" @click=\"goToSearch\">\n          <text class=\"btn-text\">去看看</text>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      favoriteList: []\n    }\n  },\n  onLoad() {\n    this.loadFavoriteList();\n  },\n  onShow() {\n    this.loadFavoriteList();\n  },\n  methods: {\n    loadFavoriteList() {\n      // 模拟收藏数据\n      this.favoriteList = [\n        {\n          _id: 'car001',\n          brand: '劳斯莱斯',\n          model: '幻影',\n          images: ['/static/cars/rolls1.jpg'],\n          rating: 4.9,\n          order_count: 156,\n          price_per_hour: 2000,\n          service_area: '朝阳区'\n        },\n        {\n          _id: 'car002',\n          brand: '奔驰',\n          model: 'S级',\n          images: ['/static/cars/benz1.jpg'],\n          rating: 4.8,\n          order_count: 89,\n          price_per_hour: 800,\n          service_area: '海淀区'\n        }\n      ];\n    },\n    removeFavorite(car) {\n      uni.showModal({\n        title: '取消收藏',\n        content: '确定要取消收藏这辆车吗？',\n        success: (res) => {\n          if (res.confirm) {\n            const index = this.favoriteList.findIndex(item => item._id === car._id);\n            if (index > -1) {\n              this.favoriteList.splice(index, 1);\n            }\n            uni.showToast({\n              title: '已取消收藏',\n              icon: 'success'\n            });\n          }\n        }\n      });\n    },\n    goToCarDetail(car) {\n      uni.navigateTo({\n        url: `/pages/car-detail/car-detail?id=${car._id}`\n      });\n    },\n    goToSearch() {\n      uni.switchTab({\n        url: '/pages/search/search'\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.favorites-page {\n  background-color: $uni-bg-color-grey;\n  min-height: 100vh;\n}\n\n.content-scroll {\n  padding: 16px;\n}\n\n.car-list {\n  .car-item {\n    background: white;\n    border-radius: 12px;\n    padding: 16px;\n    margin-bottom: 12px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n    display: flex;\n    gap: 12px;\n    \n    .car-image {\n      width: 100px;\n      height: 100px;\n      border-radius: 8px;\n      flex-shrink: 0;\n    }\n    \n    .car-info {\n      flex: 1;\n      \n      .car-name {\n        font-size: 16px;\n        font-weight: bold;\n        color: $uni-text-color;\n        display: block;\n        margin-bottom: 8px;\n      }\n      \n      .car-rating {\n        display: flex;\n        align-items: center;\n        margin-bottom: 8px;\n        \n        .rating-star {\n          color: $uni-color-secondary;\n          font-size: 14px;\n          margin-right: 4px;\n        }\n        \n        .rating-text {\n          font-size: 14px;\n          color: $uni-text-color;\n          margin-right: 8px;\n        }\n        \n        .order-count {\n          font-size: 12px;\n          color: $uni-text-color-grey;\n        }\n      }\n      \n      .car-price {\n        display: flex;\n        align-items: baseline;\n        margin-bottom: 8px;\n        \n        .price-text {\n          font-size: 18px;\n          font-weight: bold;\n          color: $uni-color-primary;\n        }\n        \n        .price-unit {\n          font-size: 12px;\n          color: $uni-text-color-grey;\n          margin-left: 2px;\n        }\n      }\n      \n      .car-location {\n        font-size: 12px;\n        color: $uni-text-color-grey;\n      }\n    }\n    \n    .favorite-btn {\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      \n      .fa-heart {\n        color: $uni-color-primary;\n        font-size: 20px;\n      }\n    }\n  }\n}\n\n.empty-state {\n  text-align: center;\n  padding: 80px 20px;\n  \n  .empty-icon {\n    font-size: 64px;\n    color: $uni-text-color-grey;\n    display: block;\n    margin-bottom: 16px;\n  }\n  \n  .empty-text {\n    font-size: 16px;\n    color: $uni-text-color-grey;\n    display: block;\n    margin-bottom: 24px;\n  }\n  \n  .empty-btn {\n    background: $uni-color-primary;\n    color: white;\n    padding: 12px 24px;\n    border-radius: 24px;\n    display: inline-block;\n    \n    .btn-text {\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/admin/Documents/HBuilderProjects/wedding_car/pages/favorites/favorites.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAyCA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,cAAc,CAAC;AAAA;EAElB;AAAA,EACD,SAAM;AACJ,SAAK,iBAAgB;AAAA,EACtB;AAAA,EACD,SAAM;AACJ,SAAK,iBAAgB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACP,mBAAgB;AAEd,WAAK,eAAe;AAAA,QAClB;AAAA,UACE,KAAK;AAAA,UACL,OAAO;AAAA,UACP,OAAO;AAAA,UACP,QAAQ,CAAC,yBAAyB;AAAA,UAClC,QAAQ;AAAA,UACR,aAAa;AAAA,UACb,gBAAgB;AAAA,UAChB,cAAc;AAAA,QACf;AAAA,QACD;AAAA,UACE,KAAK;AAAA,UACL,OAAO;AAAA,UACP,OAAO;AAAA,UACP,QAAQ,CAAC,wBAAwB;AAAA,UACjC,QAAQ;AAAA,UACR,aAAa;AAAA,UACb,gBAAgB;AAAA,UAChB,cAAc;AAAA,QAChB;AAAA;IAEH;AAAA,IACD,eAAe,MAAG,MAAA;AAChBC,0BAAI,UAAU,IAAA,cAAA;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAG;AACX,cAAI,IAAI,SAAS;AACf,kBAAM,QAAQ,KAAK,aAAa,UAAU,UAAK;AAAG,qBAAA,KAAK,QAAQ,IAAI;AAAA,YAAG,CAAA;AACtE,gBAAI,QAAQ,IAAI;AACd,mBAAK,aAAa,OAAO,OAAO,CAAC;AAAA,YACnC;AACAA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACF;AAAA,MACD,CAAA,CAAA;AAAA,IACF;AAAA,IACD,cAAc,MAAG,MAAA;AACfA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,mCAAmC,IAAI,GAAG;AAAA,MAChD,CAAA;AAAA,IACF;AAAA,IACD,aAAU;AACRA,oBAAAA,MAAI,UAAU;AAAA,QACZ,KAAK;AAAA,MACN,CAAA;AAAA,IACH;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA,GAAG,WAAW,eAAe;"}