{"version":3,"file":"order-detail.js","sources":["pages/order-detail/order-detail.uvue","pages/order-detail/order-detail.uvue?type=page"],"sourcesContent":["<template>\n  <!-- 订单详情页 - 完全匹配HTML设计 -->\n  <view class=\"bg-white min-h-screen relative overflow-hidden\">\n    <!-- 状态横幅 - 完全匹配HTML设计 -->\n    <view class=\"p-4 text-white flex items-center\" :class=\"getStatusBgClass(orderDetail.status)\">\n      <text class=\"fa mr-2\" :class=\"getStatusIcon(orderDetail.status)\"></text>\n      <text class=\"font-medium\">{{ getStatusMessage(orderDetail.status) }}</text>\n    </view>\n\n    <scroll-view class=\"pb-16\" scroll-y>\n      <!-- 订单信息 - 完全匹配HTML设计 -->\n      <view class=\"p-4 bg-white\">\n        <view class=\"flex justify-between items-start mb-4\">\n          <view>\n            <text class=\"text-lg font-semibold\">订单号</text>\n            <text class=\"text-neutral-light text-sm block\">{{ orderDetail.orderNo }}</text>\n          </view>\n          <view class=\"text-right\">\n            <text class=\"text-primary font-bold text-xl\">¥{{ orderDetail.totalAmount }}</text>\n            <text class=\"text-neutral-light text-sm block\">{{ orderDetail.createTime }}</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 服务详情 - 完全匹配HTML设计 -->\n      <view class=\"mt-3 bg-white p-4\">\n        <text class=\"font-semibold mb-4\">服务详情</text>\n        \n        <view class=\"flex items-center\">\n          <image :src=\"orderDetail.car.image\" :alt=\"orderDetail.car.name\" class=\"w-16 h-16 rounded-lg object-cover\" mode=\"aspectFill\"></image>\n          <view class=\"ml-3 flex-1\">\n            <text class=\"font-medium\">{{ orderDetail.car.name }}</text>\n            <view class=\"text-neutral-light text-sm mt-1\">\n              <text class=\"block\">服务时间：{{ orderDetail.serviceDate }} {{ orderDetail.serviceTime }}</text>\n              <text class=\"block\">服务地点：{{ orderDetail.pickupAddress }}</text>\n              <text class=\"block\">目的地：{{ orderDetail.destination }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 订单进度 - 完全匹配HTML设计 -->\n      <view class=\"mt-3 bg-white p-4\">\n        <text class=\"font-semibold mb-4\">订单进度</text>\n        \n        <view class=\"space-y-4\">\n          <view \n            v-for=\"(step, index) in orderSteps\" \n            :key=\"index\" \n            class=\"flex items-center\"\n          >\n            <view class=\"w-6 h-6 rounded-full flex items-center justify-center mr-3\" :class=\"step.completed ? 'bg-success' : 'bg-gray-200'\">\n              <text v-if=\"step.completed\" class=\"fa fa-check text-white text-xs\"></text>\n              <view v-else class=\"w-2 h-2 rounded-full bg-gray-400\"></view>\n            </view>\n            <view class=\"flex-1\">\n              <text class=\"text-sm\" :class=\"step.completed ? 'text-neutral' : 'text-neutral-light'\">{{ step.title }}</text>\n              <text v-if=\"step.time\" class=\"text-neutral-light text-xs block\">{{ step.time }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 费用明细 - 完全匹配HTML设计 -->\n      <view class=\"mt-3 bg-white p-4\">\n        <text class=\"font-semibold mb-4\">费用明细</text>\n        \n        <view class=\"space-y-2\">\n          <view class=\"flex justify-between items-center\">\n            <text class=\"text-sm\">车辆租赁费</text>\n            <text class=\"text-sm\">¥{{ orderDetail.baseAmount }}</text>\n          </view>\n          <view \n            v-for=\"service in orderDetail.additionalServices\" \n            :key=\"service.id\" \n            class=\"flex justify-between items-center\"\n          >\n            <text class=\"text-sm\">{{ service.name }}</text>\n            <text class=\"text-sm\">+¥{{ service.price }}</text>\n          </view>\n          <view class=\"border-t border-gray-200 pt-2 mt-2\">\n            <view class=\"flex justify-between items-center\">\n              <text class=\"font-semibold\">总计</text>\n              <text class=\"text-primary font-bold text-lg\">¥{{ orderDetail.totalAmount }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 车主信息 - 完全匹配HTML设计 -->\n      <view class=\"mt-3 bg-white p-4\">\n        <text class=\"font-semibold mb-4\">车主信息</text>\n        \n        <view class=\"flex items-center\">\n          <image :src=\"orderDetail.owner.avatar\" alt=\"车主头像\" class=\"w-12 h-12 rounded-full object-cover\" mode=\"aspectFill\"></image>\n          <view class=\"ml-3 flex-1\">\n            <text class=\"font-medium\">{{ orderDetail.owner.name }}</text>\n            <view class=\"flex items-center mt-1\">\n              <text class=\"fa fa-star text-secondary text-xs mr-1\"></text>\n              <text class=\"text-sm\">{{ orderDetail.owner.rating }}</text>\n              <text class=\"text-neutral-light text-sm ml-2\">{{ orderDetail.owner.phone }}</text>\n            </view>\n          </view>\n          <button class=\"bg-light text-primary p-2 rounded-full\" @click=\"contactOwner\">\n            <text class=\"fa fa-phone\"></text>\n          </button>\n        </view>\n      </view>\n\n      <!-- 联系信息 - 完全匹配HTML设计 -->\n      <view class=\"mt-3 bg-white p-4\">\n        <text class=\"font-semibold mb-4\">联系信息</text>\n        \n        <view class=\"space-y-2\">\n          <view class=\"flex justify-between\">\n            <text class=\"text-sm text-neutral-light\">联系电话</text>\n            <text class=\"text-sm\">{{ orderDetail.contactPhone }}</text>\n          </view>\n          <view v-if=\"orderDetail.remarks\" class=\"flex justify-between\">\n            <text class=\"text-sm text-neutral-light\">备注</text>\n            <text class=\"text-sm\">{{ orderDetail.remarks }}</text>\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n\n    <!-- 底部操作栏 - 完全匹配HTML设计 -->\n    <view class=\"fixed bottom-16 left-0 right-0 bg-white border-t border-gray-100 p-4\">\n      <view class=\"flex justify-between\">\n        <button \n          v-if=\"orderDetail.status === 'pending'\" \n          class=\"flex-1 bg-light text-neutral font-medium py-3 rounded-lg mr-2\" \n          @click=\"cancelOrder\"\n        >\n          取消订单\n        </button>\n        <button class=\"flex-1 bg-primary text-white font-medium py-3 rounded-lg\" :class=\"orderDetail.status === 'pending' ? 'ml-2' : ''\" @click=\"contactOwner\">\n          联系车主\n        </button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      orderId: '',\n      // 订单详情数据 - 完全匹配HTML设计\n      orderDetail: {\n        orderNo: 'WC202501151030',\n        status: 'confirmed', // pending, confirmed, ongoing, completed, cancelled\n        totalAmount: 3300,\n        createTime: '2025-01-15 10:30',\n        serviceDate: '2025-02-14',\n        serviceTime: '09:00',\n        pickupAddress: '北京市朝阳区三里屯',\n        destination: '北京市朝阳区国贸',\n        contactPhone: '138****8888',\n        remarks: '请准时到达，谢谢',\n        car: {\n          name: '奔驰S级',\n          image: 'https://picsum.photos/300/300?random=90'\n        },\n        baseAmount: 2800,\n        additionalServices: [\n          { id: 1, name: '跟拍服务', price: 500 }\n        ],\n        owner: {\n          name: '张师傅',\n          avatar: 'https://picsum.photos/100/100?random=91',\n          rating: 4.9,\n          phone: '138****0000'\n        }\n      }\n    }\n  },\n  computed: {\n    // 订单步骤\n    orderSteps() {\n      const status = this.orderDetail.status;\n      return [\n        {\n          title: '订单已创建',\n          time: this.orderDetail.createTime,\n          completed: ['pending', 'confirmed', 'ongoing', 'completed'].includes(status)\n        },\n        {\n          title: '车主已确认',\n          time: status !== 'pending' ? '2025-01-15 11:00' : null,\n          completed: ['confirmed', 'ongoing', 'completed'].includes(status)\n        },\n        {\n          title: '服务进行中',\n          time: ['ongoing', 'completed'].includes(status) ? '2025-02-14 09:00' : null,\n          completed: ['ongoing', 'completed'].includes(status)\n        },\n        {\n          title: '服务已完成',\n          time: status === 'completed' ? '2025-02-14 13:00' : null,\n          completed: status === 'completed'\n        }\n      ];\n    }\n  },\n  onLoad(options) {\n    this.orderId = options.id || 'WC202501151030';\n    this.loadOrderDetail();\n  },\n  methods: {\n    // 加载订单详情\n    loadOrderDetail() {\n      // 在实际应用中，这里会调用API获取订单详情\n      uni.__f__('log','at pages/order-detail/order-detail.uvue:215','加载订单详情，ID:', this.orderId);\n      // 可以根据orderId动态调整数据\n    },\n    \n    // 获取状态背景样式\n    getStatusBgClass(status) {\n      const classMap = {\n        'pending': 'bg-secondary',      // 等待确认 - 金色\n        'confirmed': 'bg-primary',      // 已确认 - 主色\n        'ongoing': 'bg-blue-500',       // 进行中 - 蓝色\n        'completed': 'bg-success',      // 已完成 - 绿色\n        'cancelled': 'bg-red-500'       // 已取消 - 红色\n      };\n      return classMap[status] || 'bg-neutral';\n    },\n    \n    // 获取状态图标\n    getStatusIcon(status) {\n      const iconMap = {\n        'pending': 'fa-clock-o',\n        'confirmed': 'fa-check-circle',\n        'ongoing': 'fa-car',\n        'completed': 'fa-check',\n        'cancelled': 'fa-times-circle'\n      };\n      return iconMap[status] || 'fa-question-circle';\n    },\n    \n    // 获取状态消息\n    getStatusMessage(status) {\n      const messageMap = {\n        'pending': '等待车主确认',\n        'confirmed': '车主已确认，请按时到达指定地点',\n        'ongoing': '服务进行中，请保持电话畅通',\n        'completed': '服务已完成，感谢您的使用',\n        'cancelled': '订单已取消'\n      };\n      return messageMap[status] || '订单状态异常';\n    },\n    \n    // 联系车主\n    contactOwner() {\n      uni.showModal({\n        title: '联系车主',\n        content: `是否拨打车主电话：${this.orderDetail.owner.phone}？`,\n        success: (res) => {\n          if (res.confirm) {\n            uni.makePhoneCall({\n              phoneNumber: '13800138000'\n            });\n          }\n        }\n      });\n    },\n    \n    // 取消订单\n    cancelOrder() {\n      uni.showModal({\n        title: '确认取消',\n        content: '确定要取消这个订单吗？取消后费用将原路退回。',\n        success: (res) => {\n          if (res.confirm) {\n            uni.showLoading({ title: '取消中...' });\n            \n            // 模拟API调用\n            setTimeout(() => {\n              uni.hideLoading();\n              this.orderDetail.status = 'cancelled';\n              \n              uni.showToast({\n                title: '订单已取消',\n                icon: 'success'\n              });\n            }, 1500);\n          }\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 页面特定样式 - 使用全局Tailwind CSS类，只定义特殊需求 */\n\n/* 确保图标字体正确显示 */\n.fa {\n  font-family: 'FontAwesome' !important;\n}\n\n/* 状态背景颜色 */\n.bg-blue-500 {\n  background-color: #3b82f6;\n}\n\n.bg-red-500 {\n  background-color: #ef4444;\n}\n\n.bg-gray-200 {\n  background-color: #e5e7eb;\n}\n\n.bg-gray-400 {\n  background-color: #9ca3af;\n}\n\n/* 状态栏适配 */\npage {\n  background-color: #F9F9F9;\n}\n</style>\n","import MiniProgramPage from '/Users/admin/Documents/HBuilderProjects/wedding_car/pages/order-detail/order-detail.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}